<?xml version="1.0" encoding="UTF-8"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/XHtml.xhtml to edit this template
-->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Registrarse</title>
        <script src="https://cdn.tailwindcss.com"></script>
    </h:head>

    <h:body class="bg-gray-100 flex items-center justify-center min-h-screen">
        <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-md">
            <h1 class="text-2xl font-bold mb-6 text-center">Registrarse</h1>

            <h:form>
                <p:growl id="growl" showDetail="true" sticky="true" />
                <div class="mb-4">
                    <p:outputLabel for="nombres" value="Nombres:" styleClass="block font-semibold mb-2"/>
                    <p:inputText id="nombres" value="#{controllerRegistro.nombres}" 
                                 required="true" requiredMessage="El nombre es requerido"
                                 styleClass="w-full border border-gray-300 rounded-md p-2"/>
                </div>

                <div class="mb-4">
                    <p:outputLabel for="apellidos" value="Apellidos:" styleClass="block font-semibold mb-2"/>
                    <p:inputText id="apellidos" value="#{controllerRegistro.apellidos}"
                                 required="true" requiredMessage="Los apellidos son requeridos"
                                 styleClass="w-full border border-gray-300 rounded-md p-2"/>
                </div>

                <div class="mb-4">
                    <p:outputLabel for="correo" value="Correo:" styleClass="block font-semibold mb-2"/>
                    <p:inputText id="correo" value="#{controllerRegistro.correo}"
                                 required="true" requiredMessage="El correo es requerido"
                                 validatorMessage="Correo inválido"
                                 styleClass="w-full border border-gray-300 rounded-md p-2">
                        <f:validateRegex pattern="^[A-Za-z0-9+_.-]+@(.+)$"/>
                    </p:inputText>
                </div>

                <div class="mb-4">
                    <p:outputLabel for="contrasena" value="Contraseña:" styleClass="block font-semibold mb-2"/>
                    <p:password id="contrasena" value="#{controllerRegistro.contrasena}"
                                required="true" requiredMessage="La contraseña es requerida"
                                styleClass="w-full border border-gray-300 rounded-md p-2"
                                feedback="true" toggleMask="true"/>
                </div>

                <div class="mb-4">
                    <p:outputLabel for="fechaNacimiento" value="Fecha de Nacimiento:" styleClass="block font-semibold mb-2"/>
                    <p:datePicker id="fechaNacimiento" 
                                  value="#{controllerRegistro.fechaNacimiento}"
                                  pattern="dd/MM/yyyy"
                                  showIcon="true"
                                  required="true" 
                                  requiredMessage="La fecha de nacimiento es requerida"
                                  styleClass="w-full"
                                  mask="true"/>
                </div>

                <div class="mb-4">
                    <p:outputLabel for="provincia" value="Provincia:" styleClass="block font-semibold mb-2"/>
                    <p:selectOneMenu id="provincia" value="#{controllerRegistro.idProvincia}"
                                     required="true" requiredMessage="La provincia es requerida">
                        <f:selectItem itemLabel="Seleccione una provincia" itemValue=""/>
                        <f:selectItems value="#{controllerRegistro.provincias}"
                                       var="prov"
                                       itemLabel="#{prov.nombreProvincia}"
                                       itemValue="#{prov.idProvincia}"/>
                    </p:selectOneMenu>
                </div>

                <div class="mb-6">
                    <p:outputLabel for="carrera" value="Carrera de Interés:" styleClass="block font-semibold mb-2"/>
                    <p:inputText id="carrera" value="#{controllerRegistro.carrera}"
                                 required="true" requiredMessage="La carrera es requerida"
                                 styleClass="w-full border border-gray-300 rounded-md p-2"/>
                </div>

                <div class="flex justify-between">
                    <p:commandButton value="Registrarse" 
                                     action="#{controllerRegistro.registrarUsuario}"
                                     update="@form"
                                     styleClass="bg-blue-500 text-white font-semibold py-2 px-4 rounded-md"/>
                    <p:button value="ATRÁS" outcome="index" 
                              styleClass="bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-md"/>
                </div>
            </h:form>
        </div>
    </h:body>
</html>